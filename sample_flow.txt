[{"id":"5cc1d04f.1439d","type":"websocket in","z":"2c0b50be.fd88d","name":"mycroft-in","server":"dee4197b.ebffb8","client":"","x":405.142822265625,"y":521.4999694824219,"wires":[["8e790f03.8cfdd","f59e5e4e.04ecc"]]},{"id":"e264ddda.7f85b","type":"switch","z":"2c0b50be.fd88d","name":"intents","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"verge","vt":"str"},{"t":"cont","v":"dot","vt":"str"},{"t":"cont","v":"hello","vt":"str"},{"t":"cont","v":"echo","vt":"str"},{"t":"else"}],"checkall":"true","outputs":5,"x":789.142822265625,"y":453.9999694824219,"wires":[["536b13d9.5f6aac"],["24b878fb.a0c4d8"],["3437c43a.36008c"],[],["d31d8e8c.66757"]]},{"id":"536b13d9.5f6aac","type":"http request","z":"2c0b50be.fd88d","name":"http get news feed","method":"GET","ret":"txt","url":"http://www.theverge.com/rss/full.xml","tls":"","x":1049.142822265625,"y":333.4999694824219,"wires":[["9cc5c713.d8b528"]]},{"id":"9cc5c713.d8b528","type":"xml","z":"2c0b50be.fd88d","name":"format feed","attr":"","chr":"","x":1269.142822265625,"y":333.4999694824219,"wires":[["97a9ae5b.598c8"]]},{"id":"97a9ae5b.598c8","type":"function","z":"2c0b50be.fd88d","name":"select data","func":"var msg1 = {payload: msg.payload.feed.entry[0].title};\nvar msg2 = {payload: msg.payload.feed.entry[1].title};\n\n\nreturn [msg1, msg2];","outputs":"1","noerr":0,"x":1469.142822265625,"y":333.4999694824219,"wires":[["3b11177a.e43ef8"]]},{"id":"3b11177a.e43ef8","type":"template","z":"2c0b50be.fd88d","name":"answer json response","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"{\"type\": \"node_red.answer\", \"data\":{\"utterance\": \"The leading headline from The Verge, {{payload}}\"}, \"context\":{}}","output":"str","x":1729.142822265625,"y":333.4999694824219,"wires":[["1e054ecf.0b54b1"]]},{"id":"24b878fb.a0c4d8","type":"http request","z":"2c0b50be.fd88d","name":"http get weather","method":"GET","ret":"obj","url":"http://api.openweathermap.org/data/2.5/weather?lat=32.3&lon=-110.9&units=imperial&APPID=bb7088d09238c0f78fc90d2294812257","tls":"","x":1039.142822265625,"y":413.4999694824219,"wires":[["7f91e2cc.afc89c"]]},{"id":"7f91e2cc.afc89c","type":"function","z":"2c0b50be.fd88d","name":"select data","func":"var msg = {payload: msg.payload.main.temp};\nreturn msg","outputs":"1","noerr":0,"x":1314.142822265625,"y":415.9999771118164,"wires":[["a5d7a364.21897"]]},{"id":"a5d7a364.21897","type":"template","z":"2c0b50be.fd88d","name":"answer json response","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"{\"type\": \"node_red.answer\", \"data\":{\"utterance\": \"the temp is {{payload}}\"}, \"context\":{}}","output":"str","x":1729.142822265625,"y":413.4999694824219,"wires":[["1e054ecf.0b54b1"]]},{"id":"8e790f03.8cfdd","type":"switch","z":"2c0b50be.fd88d","name":"question filter","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"\"node_red.ask\"","vt":"str"}],"checkall":"true","outputs":1,"x":550.142822265625,"y":445.4999694824219,"wires":[["e264ddda.7f85b"]]},{"id":"54d2b61d.244d48","type":"template","z":"2c0b50be.fd88d","name":"answer json response","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"{\"type\": \"node_red.answer\", \"data\":{\"utterance\": \"{{payload}}\"}, \"context\":{}}","output":"str","x":1749.142822265625,"y":493.4999694824219,"wires":[["1e054ecf.0b54b1"]]},{"id":"3437c43a.36008c","type":"function","z":"2c0b50be.fd88d","name":"text response to hello","func":"var msg = {payload: \"node-red says hey\"};\n\nreturn msg;\n","outputs":"1","noerr":0,"x":1059.142822265625,"y":493.4999694824219,"wires":[["54d2b61d.244d48"]]},{"id":"d31d8e8c.66757","type":"template","z":"2c0b50be.fd88d","name":"intent_failure - json response","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"{\"type\": \"node_red.intent_failure\", \"data\":{\"utterance\" : \"{{payload}}\"}, \"context\":{}}","output":"str","x":1189.142822265625,"y":581.4999694824219,"wires":[["1e054ecf.0b54b1"]]},{"id":"4bc95816.aaa8b8","type":"comment","z":"2c0b50be.fd88d","name":"skill trigger words","info":"","x":799.142822265625,"y":393.4999694824219,"wires":[]},{"id":"f59e5e4e.04ecc","type":"switch","z":"2c0b50be.fd88d","name":"answer filter","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"\"speak\"","vt":"str"}],"checkall":"true","outputs":1,"x":539.142822265625,"y":634.4999694824219,"wires":[["3ea89c87.660244","524c2296.56ddfc"]]},{"id":"3ea89c87.660244","type":"google-tts","z":"2c0b50be.fd88d","name":"","inputField":"payload","inputFieldType":"msg","outputField":"payload","outputFieldType":"msg","languageField":"en","languageFieldType":"str","speedField":"1","speedFieldType":"num","x":751.142822265625,"y":640.4999694824219,"wires":[[]]},{"id":"c8f825e4.1f5688","type":"comment","z":"2c0b50be.fd88d","name":"json payload test","info":"","x":1071.142822265625,"y":721.9999694824219,"wires":[]},{"id":"7aa07cb2.3836f4","type":"template","z":"2c0b50be.fd88d","name":"speak json","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"{\"type\": \"node_red.answer\", \"data\":{\"utterance\" : \"{{payload}}\"}, \"context\":{}}","output":"str","x":1081.142822265625,"y":761.9999694824219,"wires":[["fb18dc4a.4e853"]]},{"id":"9fc08e30.92358","type":"inject","z":"2c0b50be.fd88d","name":"tell mycroft","topic":"","payload":"node-red says hey","payloadType":"str","repeat":"","crontab":"","once":false,"x":821.142822265625,"y":761.9999694824219,"wires":[["7aa07cb2.3836f4"]]},{"id":"fb18dc4a.4e853","type":"websocket out","z":"2c0b50be.fd88d","name":"mycroft-out","server":"","client":"a6d3befa.598a","x":1338.142807006836,"y":762.4999923706055,"wires":[]},{"id":"1e054ecf.0b54b1","type":"function","z":"2c0b50be.fd88d","name":"select data","func":"var msg = {payload: msg.payload};\nreturn msg","outputs":"1","noerr":0,"x":2023.7143058776855,"y":546.0000133514404,"wires":[["134c92fe.cd3f5d"]]},{"id":"134c92fe.cd3f5d","type":"websocket out","z":"2c0b50be.fd88d","name":"mycroft-out","server":"","client":"a6d3befa.598a","x":2233.7142639160156,"y":550.2857284545898,"wires":[]},{"id":"b3c6a6cf.3d2fc8","type":"template","z":"2c0b50be.fd88d","name":"ask json","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"{\"type\": \"node_red.query\", \"data\":{\"utterance\" : \"{{payload}}\"}, \"context\":{}}","output":"str","x":1073.999984741211,"y":823.9999923706055,"wires":[["3764f4bf.bbdc1c"]]},{"id":"867f4b19.573598","type":"inject","z":"2c0b50be.fd88d","name":"ask mycroft","topic":"","payload":"hello world","payloadType":"str","repeat":"","crontab":"","once":false,"x":823.9999847412109,"y":823.9999923706055,"wires":[["b3c6a6cf.3d2fc8"]]},{"id":"3764f4bf.bbdc1c","type":"websocket out","z":"2c0b50be.fd88d","name":"mycroft-out","server":"","client":"a6d3befa.598a","x":1340.9999694824219,"y":824.5000152587891,"wires":[]},{"id":"524c2296.56ddfc","type":"debug","z":"2c0b50be.fd88d","name":"","active":true,"console":"false","complete":"false","x":579.9999847412109,"y":905.9999923706055,"wires":[]},{"id":"dee4197b.ebffb8","type":"websocket-listener","z":"","path":"ws://test:test_key@127.0.0.1:6789","wholemsg":"false"},{"id":"a6d3befa.598a","type":"websocket-client","z":"","path":"ws://test:test_key@127.0.0.1:6789","wholemsg":"false"}]